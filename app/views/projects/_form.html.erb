<% form_for @project do |f| %>
  <%= f.error_messages %>
	<%- if @project.new_record? -%>
	<p>
		<%= f.label :client_id, "Client Id" %>
		<%= f.collection_select :client_id, @clients, :id, :name, :prompt => "Select A Client" %>
	</p>
	<%- end -%>
  <p>
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </p>
  <p>
    <%= f.label :allotted_hours %><br />
    <%= f.text_field :allotted_hours %>
  </p>
	<p>
		<%= f.label :billing %>
		<%= f.select :billing, BILLING_OPTIONS.map{ |k, v| [v, k] } %>
	</p>
	
	<div id='associated_tasks'>
		<h2>Associated Tasks</h2>
    <%- f.fields_for :associated_tasks do |form| -%>
			<div><%= render '/associated_tasks/fields', :f => form %></div>
		<%- end -%>
	</div>
	
	<!-- <div>
		<% if !@tasks.blank? %>
		<h2>Select Tasks</h2>
		  <% for task in @tasks %>
		    <div><%= check_box_tag :"project[task_ids][]", task.id, @project.new_record? ? task.default : @project.task_ids.include?(task.id), :id => "task_#{task.id}" %>
				<%= label_tag :"task_#{task.id}", task.name %></div>
		  <% end %>
		<% end %>
	</div> -->
	
  <p><%= f.submit "Submit" %></p>
<% end %>
